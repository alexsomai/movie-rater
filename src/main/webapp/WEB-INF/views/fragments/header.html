<!DOCTYPE html>
<html>
<head></head>
<body>
<!-- Navbar -->
<nav class="navbar navbar-inverse navbar-fixed-top" th:fragment="header" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">
                <img width="20" src="../../../resources/images/apple.png"/>
                <!--Movie Rater-->
            </a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li th:classappend="${page == 'home' ? 'active' : ''}">
                    <a href="#" th:href="@{/}">Home</a>
                </li>
                <li th:classappend="${page == 'messages' ? 'active' : ''}">
                    <a href="#" th:href="@{/message}">Messages</a>
                </li>
                <li th:classappend="${page == 'tasks' ? 'active' : ''}">
                    <a href="#" th:href="@{/task}">Tasks</a>
                </li>
                <li th:classappend="${page == 'admin' ? 'active' : ''}">
                    <a href="#" th:href="@{/admin}">Admin page</a>
                </li>
                <li role="presentation" class="dropdown" th:classappend="${page == 'movies' ? 'active' : ''}">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-expanded="false">
                        Movies <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu multi-level" role="menu" aria-labelledby="dropdownMenu">
                        <li><a href="#" th:href="@{/movie/index?category}">View all</a></li>
                        <li class="divider"></li>
                        <li class="dropdown-submenu"><a tabindex="-1" href="#">Filter by category&hellip;</a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="#">test</a>
                                </li>
                            </ul>
                        </li>
                        <li class="dropdown-submenu">
                            <a tabindex="-1" href="#">Sort by&hellip;</a>
                            <ul class="dropdown-menu">
                                <li class="dropdown-submenu">
                                    <a href="#">Rating&hellip;</a>
                                    <ul class="dropdown-menu">
                                        <li><a href="#"
                                               th:href="@{/movie/index(title=${searchFilter?.title},
                                               page=${searchFilter?.page}, sort='rate', order='asc')}">
                                            Ascending
                                        </a></li>
                                        <li><a href="#"
                                               th:href="@{/movie/index(title=${searchFilter?.title},
                                               page=${searchFilter?.page}, sort='rate', order='desc')}">
                                            Descending</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                    <!--</div>-->
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li th:if="${#authorization.expression('!isAuthenticated()')}">
                    <a href="/signin" th:href="@{/signin}">Sign in</a></li>
                <li th:if="${#authorization.expression('isAuthenticated()')}">
                    <a href="/logout" th:href="@{/logout}">Logout</a>
                </li>
            </ul>
            <div class="col-sm-3 col-md-3 pull-right">
                <form th:action="@{/movie/index}" class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control"
                               placeholder="Search movie by title&hellip;"
                               name="title" id="srch-term" th:value="${searchFilter?.title}"/>

                        <div class="input-group-btn">
                            <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i>
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <!--/.nav-collapse -->
    </div>
</nav>
</body>
</html>